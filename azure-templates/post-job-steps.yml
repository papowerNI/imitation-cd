# File: post-job-steps.yml
##### Steps Template After All Builds #####

# Inputs: pack
parameters:
  - name: buildOutputLocation
    type: string
  - name: archiveLocation
    type: string
  - name: pack
    type: boolean
    default: false

steps:
###########  Archive  ###########
  - ${{ if eq( parameters.pack, true )}}:
    - powershell: rm -r "nipkg"; mkdir "nipkg"; cp -R "$(customDevice)\${{ buildOutputLocation }}\*" "nipkg\data\documents\National Instruments\NI VeriStand 2020\Custom Devices\National Instruments"
      displayName: Generate nipkg File structure (INCOMPLETE)
    - script: echo "this is incomplete"
      displayName: Pack nipkg (INCOMPLETE)
  - powershell: cp -R -force "$(customDevice)\${{ buildOutputLocation }}\*" ${{ archiveLocation }}
    displayName: Copying Built Files to \\nirvana Archive